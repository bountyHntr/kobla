## Выпускная квалификационная работа по теме "Разработка консольного приложения для изучения принципов функционирования блокчейн-сетей"

Для удобства компиляции и использования приложения был разработан [Makefile](./Makefile).
*Makefile* - это файл, содержащий набор инструкций, используемых утилитой make для автоматизации сборки.

### Разработка

Для генерации кода на основе [`.proto` файлов](./blockchain/core/pb/) `Protocol Buffers` можно использовать команды
`make proto-compile-pow` и `make proto-compile-poa` для *Proof-of-Work* и *Proof-of-Authority* соответственно.

### Тестирование

Для запуска тестов можно использовать команду `make tests`, которая запустит все тесты в репозитории.

### Сборка

Чтобы скомпилировать ноду в режиме работы с механизмом консенсуса *Proof-of-Work*, можно использовать команду `make build-pow`.
Аналогично для работы в режиме *Proof-of-Authority* можно использовать команду `make build-poa`.

### Запуск

Для запуска скомпилированной программы можно использовать команду `make run`, которая является псевдонимом для команды
```./kobla 2> `date +%s`.log --config=config.yaml```.

Для работы приложения пользователю необходимо заполнить [конфигурационный файл](./example/config.yaml), который обычно называют `config.yaml`.
Данный файл содержит следующие поля:
- `URL`: адрес (сокет) ноды, который она ("слушает") использует для входящих соединений;
- `Genesis`: флаг, обозначающий создание нового блокчейна; `true` - если нет данных в БД, создаем новый блокчейн; `false` - нет данных, исполнение
останавливается с ошибкой;
- `DBPath`: путь к файлам базы данных;
- `Nodes`: список адресов нод, известных на момент запуска;

Для работы с *Proof-of-Authority* неободимо указать в файле конфигурации еще два поля:
- `Validators`: список публичных ключей валидаторов, которые находятся в "белом списке"; нода принимает блоки, которые подписаны этими валидаторами;
- `PrivateKey`: приватный ключ, который подписывает блоки наша нода.
